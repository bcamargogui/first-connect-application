{
	"info": {
		"_postman_id": "31b93b07-dba7-49f3-ad7e-cd92a6db6d39",
		"name": "Commercetools Connect API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "19595151"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Obtain access token",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"if(data.access_token){",
									"    pm.environment.set(\"ctp_access_token\", data.access_token);",
									"}",
									"if (data.scope) {",
									"    parts = data.scope.split(\" \");",
									"    parts = parts.filter(scope => scope.includes(\":\")).map(scope => scope.split(\":\"))",
									"    if (parts.length > 0) {",
									"        scopeParts = parts[0];",
									"        pm.environment.set(\"project-key\", scopeParts[1]);",
									"        parts = parts.filter(scope => scope.length >= 3)",
									"        if (parts.length > 0) {",
									"            scopeParts = parts[0];",
									"            pm.environment.set(\"store-key\", scopeParts[2]);",
									"        }",
									"    }",
									"}"
								]
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{client_id}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{client_secret}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{auth_url}}/oauth/token?grant_type=client_credentials",
							"host": [
								"{{auth_url}}"
							],
							"path": [
								"oauth",
								"token"
							],
							"query": [
								{
									"key": "grant_type",
									"value": "client_credentials"
								}
							]
						},
						"description": "Use this request to obtain an access token for your commercetools platform project via Client Credentials Flow. As a prerequisite you must have filled out environment variables in Postman for projectKey, client_id and client_secret to use this."
					},
					"response": []
				}
			]
		},
		{
			"name": "Create Connector and Deploy",
			"item": [
				{
					"name": "Create a ConnectorStagedDraft",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Extract the value of the \"id\" field from the response",
									"var responseBody = pm.response.json();",
									"var id = responseBody.id;",
									"",
									"// Store the id value in an environment or global variable",
									"pm.environment.set(\"connectorId\", id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{ctp_access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"My First Connector\",\n    \"description\": \"An example connector\",\n    \"creator\": {\n        \"title\": \"Sr\",\n        \"name\": \"Guilherme\",\n        \"email\": \"guilherme.bragamonte@objectedge.com\",\n        \"company\": \"OE\",\n        \"noOfDevelopers\": 10\n    },\n    \"repository\": {\n        \"url\": \"https://github.com/guilherme-bragamonte/first-connect-application.git\",\n        \"tag\": \"first-tag\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://connect.{{region}}.commercetools.com/connectors/drafts",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"connectors",
								"drafts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Request a ConnectorStaged for previewable",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Extract the \"version\" field from the response",
									"var responseBody = pm.response.json();",
									"var version = responseBody.version;",
									"",
									"// Store the extracted value in an environment or global variable",
									"pm.environment.set(\"connectorVersion\", version);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"version\": {{connectorVersion}},\n    \"actions\": [\n        {\n            \"action\": \"updatePreviewable\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://connect.{{region}}.commercetools.com/connectors/drafts/{{connectorId}}",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"connectors",
								"drafts",
								"{{connectorId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a Deployment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Extract the id from the response body",
									"var responseBody = pm.response.json();",
									"var deploymentId = responseBody.id;",
									"",
									"// Store the deploymentId as an environment variable",
									"pm.environment.set(\"deploymentId\", deploymentId);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"connector\": {\n        \"id\": \"{{connectorId}}\",\n        \"version\": {{connectorVersion}},\n        \"staged\": true\n    },\n    \"region\": \"{{region}}\",\n    \"configurations\": [\n        {\n            \"applicationName\": \"event\",\n            \"standardConfiguration\": [\n                {\n                    \"key\": \"CTP_REGION\",\n                    \"value\": \"{{region}}\"\n                }\n            ],\n            \"securedConfiguration\": [\n                {\n                    \"key\": \"CTP_PROJECT_KEY\",\n                    \"value\": \"{{project-key}}\"\n                },\n                {\n                    \"key\": \"CTP_CLIENT_ID\",\n                    \"value\": \"{{client_id}}\"\n                },\n                {\n                    \"key\": \"CTP_CLIENT_SECRET\",\n                    \"value\": \"{{client_secret}}\"\n                },\n                {\n                    \"key\": \"CTP_SCOPE\",\n                    \"value\": \"manage_project:{{project-key}}\"\n                }\n            ]\n        },\n        {\n            \"applicationName\": \"service\",\n            \"standardConfiguration\": [\n                {\n                    \"key\": \"CTP_REGION\",\n                    \"value\": \"{{region}}\"\n                }\n            ],\n            \"securedConfiguration\": [\n                {\n                    \"key\": \"CTP_PROJECT_KEY\",\n                    \"value\": \"{{project-key}}\"\n                },\n                {\n                    \"key\": \"CTP_CLIENT_ID\",\n                    \"value\": \"{{client_id}}\"\n                },\n                {\n                    \"key\": \"CTP_CLIENT_SECRET\",\n                    \"value\": \"{{client_secret}}\"\n                },\n                {\n                    \"key\": \"CTP_SCOPE\",\n                    \"value\": \"manage_project:{{project-key}}\"\n                }\n            ]\n        },\n        {\n            \"applicationName\": \"job\",\n            \"standardConfiguration\": [\n                {\n                    \"key\": \"CTP_REGION\",\n                    \"value\": \"{{region}}\"\n                }\n            ],\n            \"securedConfiguration\": [\n                {\n                    \"key\": \"CTP_PROJECT_KEY\",\n                    \"value\": \"{{project-key}}\"\n                },\n                {\n                    \"key\": \"CTP_CLIENT_ID\",\n                    \"value\": \"{{client_id}}\"\n                },\n                {\n                    \"key\": \"CTP_CLIENT_SECRET\",\n                    \"value\": \"{{client_secret}}\"\n                },\n                {\n                    \"key\": \"CTP_SCOPE\",\n                    \"value\": \"manage_project:{{project-key}}\"\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://connect.{{region}}.commercetools.com/{{project-key}}/deployments",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"{{project-key}}",
								"deployments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Deployment by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://connect.{{region}}.commercetools.com/{{project-key}}/deployments/{{deploymentId}}",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"{{project-key}}",
								"deployments",
								"{{deploymentId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Query Deployment Logs by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://connect.{{region}}.commercetools.com/{{project-key}}/deployments/{{deploymentId}}/logs?applicationName=event",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"{{project-key}}",
								"deployments",
								"{{deploymentId}}",
								"logs"
							],
							"query": [
								{
									"key": "applicationName",
									"value": "event"
								},
								{
									"key": "pageToken",
									"value": "EAE4-ICBwsiX7dVtSoAHIioiGgoYNjRkNjc3M2IwMDBlNTdlYzI5ZTQwMmVkKgwIu-7ZpgYQyM_TvwNK0QYKqwZKqAYA0C8gBuwepfw5V5atL3mq2jTuE4geZ6AYWtZ2VOOXe8-N6HYFWf192BJ-9xvbe3HyAuQb25vt_FQ7UYxssBoUANKIAnCriaeoQRuad9Cm6x_ZHJTfcmUyBJCk2SXG8OHWH026rR9zwT6XhPRn9nP8IsCeqXpOUQq7MQuM64l8-TBGlc1Tx-zqSi3EaJVpcSDBzf8VdLpGdj4P-jnITy_ShsFj078h7wai8vqECHhpR7QD91emhVBewm519q-3rnbkwpA2nYDtxIYa1XF1i2CTP21kzwNPSXFmUJGYlYqQ0F7LfsazIEVU0V0zaCW3DSYBSzKuyF6BXepPSnarPF9SZxwBrhHpCXFoKkd8qVYJKswE2G1vVAVHgvgDfIwDSQsKRBKkNgFSwPX3hMwxVr05oYxAWTFwf3GtCWqmJEPdWcpXjBQv3g0f7h-vRF5HuV-9NzQCa9_Lrf4zvqmBq734hz0SjfopBJ5g1Jh1En4OwAk56b6QVAyg5yTkkOerSScUEIj7k_vHkBri2JqE4u47xmMh6bRhUX56nfJOR9TgUdK3f1bp9Por2L9GdxY4JJogvCW5JO8bsn4Eq7dryeTVI-MEx-OoUo374B_g2Y_b6p6bqYcr80l7PY92heXs93oC0JZFCVDGAdLO28vLYHdV-6gM4ObJ4oFsskogfszqZG6CpyYIu82m8Bdt0ClIwQo3w8vRV3Ui4WEqddwRwylimvFSOZPIO7-MbDAhAoS2XsKz-HUP0iHGzJ5Gu6txb9zToEFz-pnwyNXbqljEQOe8KxLOFYPrkoKM0uNEE8tYgupZQPcsZFmC0cztmKu-1tA4sbu0-T9cmHwIKEzQ7iGFsk-a2Rk2JyqcmAUldvW7sgQivF7GPKoRBmOlH7HYYlvmL67yEutg3taHs3q4zO1ikZJ8fKKVQqLn2L6Adlr9J9ikLueNk7UUdd0wrlDpu04VyP4Ib5qqgQU4HX2nvF2W9lYxZTWA5UEBCzkLfh5e9SwzpRz2bsa9BkZFL11SiESoJFLqpg-0azkxMmLa10fcr8tUJPhVcWpqaGN9e_a6PYnhlWGLQSdQEhYaBgiA1demBiIMCP_33KYGEP-T69wDUNjXoeDZ9LqEsAFSBwiE8byb7Q5gpvLo6bCcncfbAWocCgwIzO7ZpgYQ68fR-AISCAgBEKS2rOgCGBQgAA",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Misc",
			"item": [
				{
					"name": "Get ConnectorStaged by Id",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Extract the \"version\" field from the response",
									"var responseBody = pm.response.json();",
									"var version = responseBody.version;",
									"",
									"// Store the extracted value in an environment or global variable",
									"pm.environment.set(\"connectorVersion\", version);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://connect.{{region}}.commercetools.com/connectors/drafts/{{connectorId}}",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"connectors",
								"drafts",
								"{{connectorId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Return all available Connectors",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{ctp_access_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://connect.{{region}}.gcp.commercetools.com/connectors/search",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"gcp",
								"commercetools",
								"com"
							],
							"path": [
								"connectors",
								"search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Query Deployments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://connect.{{region}}.commercetools.com/{{project-key}}/deployments",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"{{project-key}}",
								"deployments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update ConnectorStaged by ID - Set Repository",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Extract the \"version\" field from the response",
									"var responseBody = pm.response.json();",
									"var version = responseBody.version;",
									"",
									"// Store the extracted value in an environment or global variable",
									"pm.environment.set(\"connectorVersion\", version);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"version\": {{connectorVersion}},\n    \"actions\": [\n        {\n            \"action\": \"setRepository\",\n            \"url\": \"https://github.com/guilherme-bragamonte/first-connect-application.git\",\n            \"tag\": \"0.0.7\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://connect.{{region}}.commercetools.com/connectors/drafts/{{connectorId}}",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"connectors",
								"drafts",
								"{{connectorId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Query ConnectorStaged",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://connect.{{region}}.commercetools.com/connectors/drafts",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"connectors",
								"drafts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update ConnectorStaged by ID - Trigger Certification Process",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"version\": {{connectorVersion}},\n    \"actions\": [\n        {\n            \"action\": \"triggerCertification\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://connect.{{region}}.commercetools.com/connectors/drafts/{{connectorId}}",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"connectors",
								"drafts",
								"{{connectorId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Deployment by ID - Redeploy",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"version\": 9,\n    \"actions\": [\n        {\n            \"action\": \"redeploy\",\n            \"configurationValues\": []\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://connect.{{region}}.commercetools.com/{{project-key}}/deployments/{{deploymentId}}",
							"protocol": "https",
							"host": [
								"connect",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"{{project-key}}",
								"deployments",
								"{{deploymentId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Custom Object",
			"item": [
				{
					"name": "Create or Update CustomObject",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer ${BEARER_TOKEN}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"container\" : \"test-connect-container\",\n  \"key\" : \"test-key\",\n  \"value\" : \"test-value\"\n}"
						},
						"url": {
							"raw": "https://api.{{region}}.commercetools.com/{{project-key}}/custom-objects",
							"protocol": "https",
							"host": [
								"api",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"{{project-key}}",
								"custom-objects"
							]
						}
					},
					"response": []
				},
				{
					"name": "Query CustomObjects",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer ${BEARER_TOKEN}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://api.{{region}}.commercetools.com/{{project-key}}/custom-objects/test-connect-container/test-event-key",
							"protocol": "https",
							"host": [
								"api",
								"{{region}}",
								"commercetools",
								"com"
							],
							"path": [
								"{{project-key}}",
								"custom-objects",
								"test-connect-container",
								"test-event-key"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Local App",
			"item": [
				{
					"name": "Event - Subscription created",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"//  Convert part of the body to base64 (same format as messages)",
									" var data = JSON.parse(pm.request.body.raw);",
									"",
									" const newBody = {",
									"     ...data,",
									"     message: {",
									"         data: Buffer.from(JSON.stringify(data.message.data)).toString('base64'),",
									"     }",
									" };",
									"",
									" let body = {",
									"     mode: 'raw',",
									"     raw: JSON.stringify(newBody),",
									"     options: {",
									"         raw: {",
									"             language: 'json'",
									"         }",
									"     }",
									" }",
									"",
									" pm.request.body.update(body);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"message\": {\n        \"data\": {\n            \"notificationType\": \"ResourceCreated\",\n            \"projectKey\": \"launchpad-2\",\n            \"resource\": {\n                \"typeId\": \"subscription\",\n                \"id\": \"339cead1-4f07-49d6-a87a-1a83eacd93e9\"\n            },\n            \"resourceUserProvidedIdentifiers\": {\n                \"key\": \"myconnector-orderCreatedSubscription\"\n            },\n            \"version\": 1,\n            \"modifiedAt\": \"2023-08-11T15:47:56.130Z\"\n        },\n        \"messageId\": \"8777625818186683\",\n        \"message_id\": \"8777625818186683\",\n        \"publishTime\": \"2023-08-11T15:47:57.831Z\",\n        \"publish_time\": \"2023-08-11T15:47:57.831Z\"\n    },\n    \"subscription\": \"projects/ct-connectors-preview/subscriptions/event-d7c6baa0-1704-42ef-afea-9e3bf0c6fbce-event\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/event",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"event"
							]
						}
					},
					"response": []
				},
				{
					"name": "Event - Order created",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"//  Convert part of the body to base64 (same format as messages)",
									" var data = JSON.parse(pm.request.body.raw);",
									"",
									" const newBody = {",
									"     ...data,",
									"     message: {",
									"         data: Buffer.from(JSON.stringify(data.message.data)).toString('base64'),",
									"     }",
									" };",
									"",
									" let body = {",
									"     mode: 'raw',",
									"     raw: JSON.stringify(newBody),",
									"     options: {",
									"         raw: {",
									"             language: 'json'",
									"         }",
									"     }",
									" }",
									"",
									" pm.request.body.update(body);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"message\": {\n        \"data\": {\n            \"notificationType\": \"Message\",\n            \"projectKey\": \"launchpad-2\",\n            \"id\": \"f9f396f1-c6c2-44f2-912c-10a6871f1156\",\n            \"version\": 1,\n            \"sequenceNumber\": 1,\n            \"resource\": {\n                \"typeId\": \"order\",\n                \"id\": \"4f6e45e7-39d2-4bba-9fff-66ed2c080d38\"\n            },\n            \"resourceVersion\": 1,\n            \"resourceUserProvidedIdentifiers\": {\n                \"orderNumber\": \"O16917778004662\"\n            },\n            \"type\": \"OrderCreated\",\n            \"order\": {\n                \"type\": \"Order\",\n                \"id\": \"4f6e45e7-39d2-4bba-9fff-66ed2c080d38\",\n                \"version\": 1,\n                \"versionModifiedAt\": \"2023-08-11T18:16:43.422Z\",\n                \"lastMessageSequenceNumber\": 1,\n                \"createdAt\": \"2023-08-11T18:16:43.378Z\",\n                \"lastModifiedAt\": \"2023-08-11T18:16:43.378Z\",\n                \"lastModifiedBy\": {\n                    \"clientId\": \"x7WC_ewyqjJDtUDOy9Ran5th\",\n                    \"isPlatformClient\": false,\n                    \"associate\": {\n                        \"typeId\": \"customer\",\n                        \"id\": \"fc517822-1821-40bb-a361-042377b5682d\"\n                    }\n                },\n                \"createdBy\": {\n                    \"clientId\": \"x7WC_ewyqjJDtUDOy9Ran5th\",\n                    \"isPlatformClient\": false,\n                    \"associate\": {\n                        \"typeId\": \"customer\",\n                        \"id\": \"fc517822-1821-40bb-a361-042377b5682d\"\n                    }\n                },\n                \"orderNumber\": \"O16917778004662\",\n                \"customerId\": \"fc517822-1821-40bb-a361-042377b5682d\",\n                \"customerEmail\": \"guilherme.bragamonte@objectedge.com\",\n                \"locale\": \"en\",\n                \"totalPrice\": {\n                    \"type\": \"centPrecision\",\n                    \"currencyCode\": \"USD\",\n                    \"centAmount\": 27800,\n                    \"fractionDigits\": 2\n                },\n                \"taxedPrice\": {\n                    \"totalNet\": {\n                        \"type\": \"centPrecision\",\n                        \"currencyCode\": \"USD\",\n                        \"centAmount\": 27800,\n                        \"fractionDigits\": 2\n                    },\n                    \"totalGross\": {\n                        \"type\": \"centPrecision\",\n                        \"currencyCode\": \"USD\",\n                        \"centAmount\": 30580,\n                        \"fractionDigits\": 2\n                    },\n                    \"taxPortions\": [\n                        {\n                            \"rate\": 0.1,\n                            \"amount\": {\n                                \"type\": \"centPrecision\",\n                                \"currencyCode\": \"USD\",\n                                \"centAmount\": 2780,\n                                \"fractionDigits\": 2\n                            },\n                            \"name\": \"10% incl\"\n                        }\n                    ],\n                    \"totalTax\": {\n                        \"type\": \"centPrecision\",\n                        \"currencyCode\": \"USD\",\n                        \"centAmount\": 2780,\n                        \"fractionDigits\": 2\n                    }\n                },\n                \"country\": \"US\",\n                \"taxedShippingPrice\": {\n                    \"totalNet\": {\n                        \"type\": \"centPrecision\",\n                        \"currencyCode\": \"USD\",\n                        \"centAmount\": 300,\n                        \"fractionDigits\": 2\n                    },\n                    \"totalGross\": {\n                        \"type\": \"centPrecision\",\n                        \"currencyCode\": \"USD\",\n                        \"centAmount\": 330,\n                        \"fractionDigits\": 2\n                    },\n                    \"taxPortions\": [\n                        {\n                            \"rate\": 0.1,\n                            \"amount\": {\n                                \"type\": \"centPrecision\",\n                                \"currencyCode\": \"USD\",\n                                \"centAmount\": 30,\n                                \"fractionDigits\": 2\n                            },\n                            \"name\": \"10% incl\"\n                        }\n                    ],\n                    \"totalTax\": {\n                        \"type\": \"centPrecision\",\n                        \"currencyCode\": \"USD\",\n                        \"centAmount\": 30,\n                        \"fractionDigits\": 2\n                    }\n                },\n                \"orderState\": \"Open\",\n                \"syncInfo\": [],\n                \"returnInfo\": [],\n                \"state\": {\n                    \"typeId\": \"state\",\n                    \"id\": \"6a701a60-262b-415b-9cc8-68872ecab03b\"\n                },\n                \"taxMode\": \"Platform\",\n                \"inventoryMode\": \"ReserveOnOrder\",\n                \"taxRoundingMode\": \"HalfEven\",\n                \"taxCalculationMode\": \"LineItemLevel\",\n                \"origin\": \"Customer\",\n                \"shippingMode\": \"Single\",\n                \"shippingInfo\": {\n                    \"shippingMethodName\": \"Standard US\",\n                    \"price\": {\n                        \"type\": \"centPrecision\",\n                        \"currencyCode\": \"USD\",\n                        \"centAmount\": 300,\n                        \"fractionDigits\": 2\n                    },\n                    \"shippingRate\": {\n                        \"price\": {\n                            \"type\": \"centPrecision\",\n                            \"currencyCode\": \"USD\",\n                            \"centAmount\": 300,\n                            \"fractionDigits\": 2\n                        },\n                        \"tiers\": []\n                    },\n                    \"taxRate\": {\n                        \"name\": \"10% incl\",\n                        \"amount\": 0.1,\n                        \"includedInPrice\": false,\n                        \"country\": \"US\",\n                        \"state\": \"Alabama\",\n                        \"id\": \"HIT-TsIW\",\n                        \"subRates\": []\n                    },\n                    \"taxCategory\": {\n                        \"typeId\": \"tax-category\",\n                        \"id\": \"96361735-d568-46a7-82b5-7346cd491b98\"\n                    },\n                    \"deliveries\": [],\n                    \"shippingMethod\": {\n                        \"typeId\": \"shipping-method\",\n                        \"id\": \"7c76c93d-0b5d-43ad-8db8-e8a722e112d1\"\n                    },\n                    \"taxedPrice\": {\n                        \"totalNet\": {\n                            \"type\": \"centPrecision\",\n                            \"currencyCode\": \"USD\",\n                            \"centAmount\": 300,\n                            \"fractionDigits\": 2\n                        },\n                        \"totalGross\": {\n                            \"type\": \"centPrecision\",\n                            \"currencyCode\": \"USD\",\n                            \"centAmount\": 330,\n                            \"fractionDigits\": 2\n                        },\n                        \"totalTax\": {\n                            \"type\": \"centPrecision\",\n                            \"currencyCode\": \"USD\",\n                            \"centAmount\": 30,\n                            \"fractionDigits\": 2\n                        }\n                    },\n                    \"shippingMethodState\": \"MatchesCart\"\n                },\n                \"shippingAddress\": {\n                    \"id\": \"xqr4kdw0\",\n                    \"firstName\": \"Guilherme\",\n                    \"lastName\": \"Bragamonte\",\n                    \"streetName\": \"Robinson Court\",\n                    \"streetNumber\": \"1029\",\n                    \"postalCode\": \"48601\",\n                    \"city\": \"Christiansted\",\n                    \"state\": \"Alabama\",\n                    \"country\": \"US\",\n                    \"phone\": \"321648168965\",\n                    \"email\": \"guilherme.bragamonte@objectedge.com\"\n                },\n                \"shipping\": [],\n                \"lineItems\": [\n                    {\n                        \"id\": \"d5aa2868-029d-4cc2-9b16-b77c1fc9a35c\",\n                        \"productId\": \"89ad78b3-e77c-42c8-b83a-212f00a0cf7f\",\n                        \"productKey\": \"187098\",\n                        \"name\": {\n                            \"en\": \"Roval Alpinist Seatpost\"\n                        },\n                        \"productType\": {\n                            \"typeId\": \"product-type\",\n                            \"id\": \"d41d6cd5-a30c-4f3c-a3c7-b02f1e845d22\",\n                            \"version\": 104\n                        },\n                        \"variant\": {\n                            \"id\": 1,\n                            \"sku\": \"1870981\",\n                            \"key\": \"1870981\",\n                            \"prices\": [\n                                {\n                                    \"id\": \"510f531c-2c59-4aec-9a79-4cee0278493f\",\n                                    \"value\": {\n                                        \"type\": \"centPrecision\",\n                                        \"currencyCode\": \"USD\",\n                                        \"centAmount\": 27500,\n                                        \"fractionDigits\": 2\n                                    }\n                                },\n                                {\n                                    \"id\": \"af5670d7-fae4-4eb6-9ae1-42f1edb4486b\",\n                                    \"value\": {\n                                        \"type\": \"centPrecision\",\n                                        \"currencyCode\": \"USD\",\n                                        \"centAmount\": 26125,\n                                        \"fractionDigits\": 2\n                                    },\n                                    \"channel\": {\n                                        \"typeId\": \"channel\",\n                                        \"id\": \"5fd29e0a-ae42-4c25-9586-8ebaa056fec5\"\n                                    }\n                                },\n                                {\n                                    \"id\": \"885fd74d-3c29-40fe-b976-d48deccf4ac8\",\n                                    \"value\": {\n                                        \"type\": \"centPrecision\",\n                                        \"currencyCode\": \"USD\",\n                                        \"centAmount\": 24750,\n                                        \"fractionDigits\": 2\n                                    },\n                                    \"channel\": {\n                                        \"typeId\": \"channel\",\n                                        \"id\": \"d84b2a57-8bf7-45a3-8075-727e6b80ccb3\"\n                                    }\n                                }\n                            ],\n                            \"images\": [\n                                {\n                                    \"url\": \"https://assets.specialized.com/i/specialized/28121-370_CMPNT_ROVAL-ALPINIST-CARBON-POST-272-X-300MM_HERO?bg=rgb(241,241,241)&w=1600&h=900&fmt=auto\",\n                                    \"label\": \"\",\n                                    \"dimensions\": {\n                                        \"w\": 0,\n                                        \"h\": 0\n                                    }\n                                }\n                            ],\n                            \"attributes\": [\n                                {\n                                    \"name\": \"articleNumberManufacturer\",\n                                    \"value\": \"187098\"\n                                },\n                                {\n                                    \"name\": \"articleNumberMax\",\n                                    \"value\": \"79310\"\n                                },\n                                {\n                                    \"name\": \"matrixId\",\n                                    \"value\": \"1870981\"\n                                },\n                                {\n                                    \"name\": \"baseId\",\n                                    \"value\": \"187098\"\n                                },\n                                {\n                                    \"name\": \"color\",\n                                    \"value\": {\n                                        \"key\": \"black\",\n                                        \"label\": {\n                                            \"en\": \"black\"\n                                        }\n                                    }\n                                },\n                                {\n                                    \"name\": \"colorFreeDefinition\",\n                                    \"value\": {\n                                        \"en\": \"black\"\n                                    }\n                                },\n                                {\n                                    \"name\": \"isOnStock\",\n                                    \"value\": true\n                                },\n                                {\n                                    \"name\": \"isBike\",\n                                    \"value\": false\n                                },\n                                {\n                                    \"name\": \"isConfigurable\",\n                                    \"value\": false\n                                }\n                            ],\n                            \"assets\": [],\n                            \"availability\": {\n                                \"isOnStock\": true,\n                                \"availableQuantity\": 299999,\n                                \"version\": 3,\n                                \"id\": \"c087fcd7-5834-4149-8040-14b9c0833fbb\"\n                            }\n                        },\n                        \"price\": {\n                            \"id\": \"510f531c-2c59-4aec-9a79-4cee0278493f\",\n                            \"value\": {\n                                \"type\": \"centPrecision\",\n                                \"currencyCode\": \"USD\",\n                                \"centAmount\": 27500,\n                                \"fractionDigits\": 2\n                            }\n                        },\n                        \"quantity\": 1,\n                        \"discountedPricePerQuantity\": [],\n                        \"taxRate\": {\n                            \"name\": \"10% incl\",\n                            \"amount\": 0.1,\n                            \"includedInPrice\": false,\n                            \"country\": \"US\",\n                            \"state\": \"Alabama\",\n                            \"id\": \"HIT-TsIW\",\n                            \"subRates\": []\n                        },\n                        \"perMethodTaxRate\": [],\n                        \"addedAt\": \"2023-08-09T20:29:28.570Z\",\n                        \"lastModifiedAt\": \"2023-08-09T20:29:28.570Z\",\n                        \"state\": [\n                            {\n                                \"quantity\": 1,\n                                \"state\": {\n                                    \"typeId\": \"state\",\n                                    \"id\": \"3004b089-dedf-4ea4-a256-3b8b98678306\"\n                                }\n                            }\n                        ],\n                        \"priceMode\": \"Platform\",\n                        \"lineItemMode\": \"Standard\",\n                        \"totalPrice\": {\n                            \"type\": \"centPrecision\",\n                            \"currencyCode\": \"USD\",\n                            \"centAmount\": 27500,\n                            \"fractionDigits\": 2\n                        },\n                        \"taxedPrice\": {\n                            \"totalNet\": {\n                                \"type\": \"centPrecision\",\n                                \"currencyCode\": \"USD\",\n                                \"centAmount\": 27500,\n                                \"fractionDigits\": 2\n                            },\n                            \"totalGross\": {\n                                \"type\": \"centPrecision\",\n                                \"currencyCode\": \"USD\",\n                                \"centAmount\": 30250,\n                                \"fractionDigits\": 2\n                            },\n                            \"totalTax\": {\n                                \"type\": \"centPrecision\",\n                                \"currencyCode\": \"USD\",\n                                \"centAmount\": 2750,\n                                \"fractionDigits\": 2\n                            }\n                        },\n                        \"taxedPricePortions\": []\n                    }\n                ],\n                \"customLineItems\": [],\n                \"transactionFee\": true,\n                \"discountCodes\": [],\n                \"directDiscounts\": [],\n                \"cart\": {\n                    \"typeId\": \"cart\",\n                    \"id\": \"a80927c3-0a81-4b20-99e1-558d8a937c8f\"\n                },\n                \"paymentInfo\": {\n                    \"payments\": [\n                        {\n                            \"typeId\": \"payment\",\n                            \"id\": \"6f283a70-0a3b-4dec-acfd-10214e3cf1fc\"\n                        }\n                    ]\n                },\n                \"billingAddress\": {\n                    \"id\": \"xqr4kdw0\",\n                    \"firstName\": \"Guilherme\",\n                    \"lastName\": \"Bragamonte\",\n                    \"streetName\": \"Robinson Court\",\n                    \"streetNumber\": \"1029\",\n                    \"postalCode\": \"48601\",\n                    \"city\": \"Christiansted\",\n                    \"state\": \"Alabama\",\n                    \"country\": \"US\",\n                    \"phone\": \"321648168965\",\n                    \"email\": \"guilherme.bragamonte@objectedge.com\"\n                },\n                \"itemShippingAddresses\": [],\n                \"refusedGifts\": [],\n                \"store\": {\n                    \"typeId\": \"store\",\n                    \"key\": \"bragamonte-company91-store\"\n                },\n                \"businessUnit\": {\n                    \"typeId\": \"business-unit\",\n                    \"key\": \"bragamonte-company91\"\n                }\n            },\n            \"createdAt\": \"2023-08-11T18:16:43.422Z\",\n            \"lastModifiedAt\": \"2023-08-11T18:16:43.422Z\",\n            \"createdBy\": {\n                \"clientId\": \"x7WC_ewyqjJDtUDOy9Ran5th\",\n                \"isPlatformClient\": false,\n                \"associate\": {\n                    \"typeId\": \"customer\",\n                    \"id\": \"fc517822-1821-40bb-a361-042377b5682d\"\n                }\n            },\n            \"lastModifiedBy\": {\n                \"clientId\": \"x7WC_ewyqjJDtUDOy9Ran5th\",\n                \"isPlatformClient\": false,\n                \"associate\": {\n                    \"typeId\": \"customer\",\n                    \"id\": \"fc517822-1821-40bb-a361-042377b5682d\"\n                }\n            }\n        }\n    },\n    \"subscription\": \"projects/ct-connectors-preview/subscriptions/event-d7c6baa0-1704-42ef-afea-9e3bf0c6fbce-event\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/event",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"event"
							]
						}
					},
					"response": []
				},
				{
					"name": "Service",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\": \"Update\",\n    \"resource\": {\n        \"typeId\": \"cart\",\n        \"id\": \"0a1552e1-101e-4840-b401-744c67a331c1\",\n        \"obj\": {\n            \"type\": \"Cart\",\n            \"id\": \"0a1552e1-101e-4840-b401-744c67a331c1\",\n            \"version\": 7,\n            \"createdAt\": \"2023-06-05T13:41:22.428Z\",\n            \"lastModifiedAt\": \"2023-06-05T13:42:20.904Z\",\n            \"lastModifiedBy\": {\n                \"clientId\": \"hG7GPF-DdGZPEiamZKpOfZPP\",\n                \"isPlatformClient\": false\n            },\n            \"createdBy\": {\n                \"clientId\": \"hG7GPF-DdGZPEiamZKpOfZPP\",\n                \"isPlatformClient\": false\n            },\n            \"lineItems\": [\n                {\n                    \"id\": \"1c27a1db-289d-4934-89c1-c67b04db0496\",\n                    \"productId\": \"56fc033e-25de-484b-bf31-fc0b97143aa9\",\n                    \"name\": {\n                        \"en\": \"Some Product\"\n                    },\n                    \"productType\": {\n                        \"typeId\": \"product-type\",\n                        \"id\": \"e1861d9b-6666-4461-8bb5-e579128c9a65\",\n                        \"version\": 1\n                    },\n                    \"productSlug\": {\n                        \"en\": \"product_slug_fake_connector\"\n                    },\n                    \"variant\": {\n                        \"id\": 1,\n                        \"sku\": \"SKU-fake\",\n                        \"prices\": [\n                            {\n                                \"id\": \"00b0e361-7b8b-464a-b25f-2b78715a1418\",\n                                \"value\": {\n                                    \"type\": \"centPrecision\",\n                                    \"currencyCode\": \"USD\",\n                                    \"centAmount\": 3100,\n                                    \"fractionDigits\": 2\n                                }\n                            },\n                            {\n                                \"id\": \"a09471bc-d9d6-4147-a390-7ac558f93c3c\",\n                                \"value\": {\n                                    \"type\": \"centPrecision\",\n                                    \"currencyCode\": \"EUR\",\n                                    \"centAmount\": 4000,\n                                    \"fractionDigits\": 2\n                                }\n                            }\n                        ],\n                        \"images\": [],\n                        \"attributes\": [],\n                        \"assets\": []\n                    },\n                    \"price\": {\n                        \"id\": \"a09471bc-d9d6-4147-a390-7ac558f93c3c\",\n                        \"value\": {\n                            \"type\": \"centPrecision\",\n                            \"currencyCode\": \"EUR\",\n                            \"centAmount\": 4000,\n                            \"fractionDigits\": 2\n                        }\n                    },\n                    \"quantity\": 3,\n                    \"discountedPricePerQuantity\": [],\n                    \"perMethodTaxRate\": [],\n                    \"addedAt\": \"2023-06-05T13:41:22.421Z\",\n                    \"lastModifiedAt\": \"2023-06-05T13:42:51.770Z\",\n                    \"state\": [\n                        {\n                            \"quantity\": 3,\n                            \"state\": {\n                                \"typeId\": \"state\",\n                                \"id\": \"90506fd6-479c-4cdc-9302-aff56b4c67b1\"\n                            }\n                        }\n                    ],\n                    \"priceMode\": \"Platform\",\n                    \"lineItemMode\": \"Standard\",\n                    \"totalPrice\": {\n                        \"type\": \"centPrecision\",\n                        \"currencyCode\": \"EUR\",\n                        \"centAmount\": 12000,\n                        \"fractionDigits\": 2\n                    },\n                    \"taxedPricePortions\": []\n                }\n            ],\n            \"cartState\": \"Active\",\n            \"totalPrice\": {\n                \"type\": \"centPrecision\",\n                \"currencyCode\": \"EUR\",\n                \"centAmount\": 12000,\n                \"fractionDigits\": 2\n            },\n            \"shippingMode\": \"Single\",\n            \"shipping\": [],\n            \"customLineItems\": [],\n            \"discountCodes\": [],\n            \"directDiscounts\": [],\n            \"inventoryMode\": \"None\",\n            \"taxMode\": \"Platform\",\n            \"taxRoundingMode\": \"HalfEven\",\n            \"taxCalculationMode\": \"LineItemLevel\",\n            \"deleteDaysAfterLastModification\": 90,\n            \"refusedGifts\": [],\n            \"origin\": \"Customer\",\n            \"itemShippingAddresses\": [],\n            \"totalLineItemQuantity\": 3\n        }\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/service",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"service"
							]
						}
					},
					"response": []
				},
				{
					"name": "Job",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/job",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"job"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{ctp_access_token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}